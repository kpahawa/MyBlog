<div align="center">
  <h2 style="text-align: center;">Send Me A Message!</h2>

  <div class="container" id="contactForm">
    <%= simple_form_for @contact, html: { :data=> {abide: ''}, :class => 'ui form'} do |f| %>
        <% if @errors != -1 %>
            <% if @errors == 1 %>
                <div class="ui red label"> Please make sure that you fill out the secret properly. I need to know you're human! </div>
            <% elsif @errors == 0 %>

            <%else %>
                <% @errors.keys.each do |m| %>
                    <div class="container" style="margin-bottom: .5em;">
                      <div class="ui red label" style="width: 100%"><%= @errors[m][0] %></div>
                    </div>
                <% end %>
            <%end %>
        <% else %>
            <div class="ui green label">Your message submitted successfully! I will get back to you ASAP</div>
        <%end%>

        <div class="field">
          <label id="formLabel">Name</label>
          <div class="two fields">
            <div class="field">
              <%= f.input :first, :placeholder => "First Name" , :pattern=> "nametype", required:true%>
            </div>
            <small class="error">First Name is required and must be a string.</small>
            <div class="field">
              <%= f.input :last, :placeholder=>"Last Name",:pattern=> "nametype", required:true%>
            </div>
            <small class="error">Last Name is required and must be a string.</small>
          </div>
        </div>
        <label id="formLabel"> Email </label>
        <div class="ui icon input">
          <%= f.input :email, :placeholder => "Email@Email.com", type: "email", required:true, style: "height: 100% !important" %>
          <i class="user icon"></i>
        </div>
        <small class="error">An email address is required.</small>
        <div class="field">
          <label id="formLabel">Message</label>
          <%= f.input :message, :as => :text, :input_html => {:rows =>10},required:true, :placeholder=>"Your message" %>
        </div>
        <small class="error">Please leave me a message!</small>

        <div class="field">
          <label id="formLabel"> Secret Key </label>
          <div class="three fields">
            <div class="field">
              <div class="ui inverted red button" onclick="showHiddenKey()">Show hidden key</div>
            </div>
            <div class="field" id="secretKeyLocation"></div>
            <div class="field" style="margin-top: -1.2em !important;">

              <%= f.input :skey,:name=>"secretKey", :equalTo=>@word, required:true, :placeholder=>"Secret Key",:style=>"height: 2.8em !important;", :id=>"skey"%>
          </div>
            <small class="error">The secret key must match to prove that you are human!</small>
          </div>
        </div>
        <div>
          <%= f.submit 'Send message', :class=> "ui inverated green submit button", :id => "submitButton" %>
        </div>
    <% end %>
  </div>
</div>
<!--<script src="http://jqueryvalidation.org/files/dist/jquery.validate.min.js"></script>-->
<!--<script src="http://jqueryvalidation.org/files/dist/additional-methods.min.js"></script>-->

<script>

    $(document).foundation({
        abide:{
            patterns: {
                nametype: /[a-zA-Z]+/
            }
        }
    });

    $("#new_contact").on('invalid.fndtn.abide', function () {
        console.log('invalid!');
    });

    function showHiddenKey() {
        var secretKeyLocation = document.getElementById("secretKeyLocation");
        console.log("<%= @word %>");
        secretKeyLocation.innerHTML = "<div class = 'ui blue label' id='skLocation'><p><%= @word %></p>";
    }
</script>